general {
    lock_cmd = hyprlock                     # matches your manual lock command
    before_sleep_cmd = hyprlock             # lock before sleep (matches your suspend action)
    after_sleep_cmd = hyprctl dispatch dpms on
    ignore_dbus_inhibit = false             # respect media players
}

# Dim screen after 4 minutes (visual warning)
listener {
    timeout = 240
    on-timeout = brightnessctl -s set 30%
    on-resume = brightnessctl -r
}

# Lock after 5 minutes (matches your manual 'l' keybind behavior)
listener {
    timeout = 300
    on-timeout = hyprlock                   # consistent with your lock command
}

# Turn off display after 10 minutes when locked
listener {
    timeout = 600
    on-timeout = if pidof hyprlock; then hyprctl dispatch dpms off; fi
    on-resume = hyprctl dispatch dpms on
}

# Suspend after 30 minutes (matches your 'u' keybind behavior)
listener {
    timeout = 1800
    on-timeout = hyprlock && systemctl suspend  # matches your suspend action flow
}

# Optional hibernate after 45 minutes
listener {
    timeout = 2700
    on-timeout = hyprlock && systemctl hibernate
}