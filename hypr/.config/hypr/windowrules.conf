# Window Rules

# ==============
# Opacity Rules
# ==============

# Browsers
windowrulev2 = opacity 0.90 $& 0.90 $& 1, class:^(firefox)$
windowrulev2 = opacity 0.90 $& 0.90 $& 1, class:^(Brave-browser)$
windowrulev2 = opacity 1 $& 1 $& 1, class:^(Google-chrome|chrome|Chromium)$

# Development Tools
windowrulev2 = opacity 0.95 $& 0.95 $& 1, class:^(code-oss)$
windowrulev2 = opacity 0.90 $& 0.90 $& 1, class:^([Cc]ode)$
windowrulev2 = opacity 0.95 $& 0.95 $& 1, class:^(code-url-handler)$
windowrulev2 = opacity 0.95 $& 0.95 $& 1, class:^(code-insiders-url-handler)$
windowrulev2 = opacity 0.90 $& 0.90 $& 1, class:^(kitty)$

# System Tools
windowrulev2 = opacity 0.95 $& 0.95 $& 1, class:^(org.kde.dolphin)$
windowrulev2 = opacity 0.95 $& 0.95 $& 1, class:^(org.kde.ark)$
windowrulev2 = opacity 0.95 $& 0.95 $& 1, class:^(nwg-look)$
windowrulev2 = opacity 0.95 $& 0.95 $& 1, class:^(qt5ct)$
windowrulev2 = opacity 0.95 $& 0.95 $& 1, class:^(qt6ct)$
windowrulev2 = opacity 0.95 $& 0.95 $& 1, class:^(kvantummanager)$

# Audio/Network/System Controls
windowrulev2 = opacity 0.95 $& 0.70 $& 1, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = opacity 0.95 $& 0.70 $& 1, class:^(blueman-manager)$
windowrulev2 = opacity 0.95 $& 0.70 $& 1, class:^(nm-applet)$
windowrulev2 = opacity 0.95 $& 0.70 $& 1, class:^(nm-connection-editor)$
windowrulev2 = opacity 0.95 $& 0.70 $& 1, class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrulev2 = opacity 0.95 $& 0.70 $& 1, class:^(polkit-gnome-authentication-agent-1)$
windowrulev2 = opacity 0.95 $& 0.70 $& 1, class:^(org.freedesktop.impl.portal.desktop.gtk)$
windowrulev2 = opacity 0.95 $& 0.70 $& 1, class:^(org.freedesktop.impl.portal.desktop.hyprland)$

# Media/Entertainment
windowrulev2 = opacity 0.70 $& 0.70 $& 1, class:^([Ss]team)$
windowrulev2 = opacity 0.70 $& 0.70 $& 1, class:^(steamwebhelper)$
windowrulev2 = opacity 0.70 $& 0.70 $& 1, class:^([Ss]potify)$
windowrulev2 = opacity 0.90 0.90, class:^(com.github.rafostar.Clapper)$ # Clapper-Gtk

# GTK/Qt Applications
windowrulev2 = opacity 0.95 0.95, class:^(com.github.tchx84.Flatseal)$ # Flatseal-Gtk
windowrulev2 = opacity 0.95 0.95, class:^(hu.kramo.Cartridges)$ # Cartridges-Gtk
windowrulev2 = opacity 0.95 0.95, class:^(com.obsproject.Studio)$ # Obs-Qt
windowrulev2 = opacity 0.95 0.95, class:^(gnome-boxes)$ # Boxes-Gtk
windowrulev2 = opacity 0.95 0.95, class:^(vesktop)$ # Vesktop
windowrulev2 = opacity 0.95 0.95, class:^(discord)$ # Discord-Electron
windowrulev2 = opacity 0.95 0.95, class:^(WebCord)$ # WebCord-Electron
windowrulev2 = opacity 0.95 0.95, class:^(ArmCord)$ # ArmCord-Electron
windowrulev2 = opacity 0.95 0.95, class:^(app.drey.Warp)$ # Warp-Gtk
windowrulev2 = opacity 0.95 0.95, class:^(net.davidotek.pupgui2)$ # ProtonUp-Qt
windowrulev2 = opacity 0.95 0.95, class:^(yad)$ # Protontricks-Gtk
windowrulev2 = opacity 0.95 0.95, class:^(Signal)$ # Signal-Gtk
windowrulev2 = opacity 0.95 0.95, class:^(io.github.alainm23.planify)$ # planify-Gtk
windowrulev2 = opacity 0.95 0.95, class:^(io.gitlab.theevilskeleton.Upscaler)$ # Upscaler-Gtk
windowrulev2 = opacity 0.95 0.95, class:^(com.github.unrud.VideoDownloader)$ # VideoDownloader-Gtk
windowrulev2 = opacity 0.95 0.95, class:^(io.gitlab.adhami3310.Impression)$ # Impression-Gtk
windowrulev2 = opacity 0.95 0.95, class:^(io.missioncenter.MissionCenter)$ # MissionCenter-Gtk
windowrulev2 = opacity 0.95 0.95, class:^(io.github.flattool.Warehouse)$ # Warehouse-Gtk

# ==============
# Floating Rules
# ==============

# System Dialogs
windowrulev2 = float, class:^(org.kde.dolphin)$, title:^(Progress Dialog — Dolphin)$
windowrulev2 = float, class:^(org.kde.dolphin)$, title:^(Copying — Dolphin)$
windowrulev2 = float, title:^(About Mozilla Firefox)$
windowrulev2 = float, class:^(firefox)$, title:^(Picture-in-Picture)$
windowrulev2 = float, class:^(firefox)$, title:^(Library)$
windowrulev2 = float, class:^(vlc)$
windowrulev2 = float, class:^(org.kde.ark)$
windowrulev2 = float, class:^(xdg-desktop-portal-gtk)$

# System Utilities
windowrulev2 = float, class:^(kvantummanager)$
windowrulev2 = float, class:^(qt5ct)$
windowrulev2 = float, class:^(qt6ct)$
windowrulev2 = float, class:^(nwg-look)$
windowrulev2 = float, class:^(wvkbd-mobintl)$
windowrulev2 = float, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, class:^(nm-applet)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = float, class:^(org.kde.polkit-kde-authentication-agent-1)$

# Terminal Utilities
windowrulev2 = float, class:^(kitty)$, title:^(top)$
windowrulev2 = float, class:^(kitty)$, title:^(btop)$
windowrulev2 = float, class:^(kitty)$, title:^(htop)$

# Applications
windowrulev2 = float, class:^(Signal)$ # Signal-Gtk
windowrulev2 = float, class:^(com.github.rafostar.Clapper)$ # Clapper-Gtk
windowrulev2 = float, class:^(app.drey.Warp)$ # Warp-Gtk
windowrulev2 = float, class:^(net.davidotek.pupgui2)$ # ProtonUp-Qt
windowrulev2 = float, class:^(yad)$ # Protontricks-Gtk
windowrulev2 = float, class:^(eog)$ # Imageviewer-Gtk
windowrulev2 = float, class:^(io.github.alainm23.planify)$ # planify-Gtk
windowrulev2 = float, class:^(io.gitlab.theevilskeleton.Upscaler)$ # Upscaler-Gtk
windowrulev2 = float, class:^(com.github.unrud.VideoDownloader)$ # VideoDownloader-Gkk
windowrulev2 = float, class:^(io.gitlab.adhami3310.Impression)$ # Impression-Gtk
windowrulev2 = float, class:^(io.missioncenter.MissionCenter)$ # MissionCenter-Gtk
windowrulev2 = float, class:Swaync

# Browser PIP/Media Controls
windowrulev2 = float, class:^(Google-chrome|chrome|Chromium)$, title:^(Picture-in-Picture)$
windowrulev2 = float, class:^(Google-chrome|chrome|Chromium)$, title:^(Media Control)$

# Common Modals/Dialogs
windowrule = float, initialtitle:^(Open File)$
windowrule = float, initialTitle:^(Open File)$
windowrule = float, title:^(Choose Files)$
windowrule = float, title:^(Save As)$
windowrule = float, title:^(Confirm to replace files)$
windowrule = float, title:^(File Operation Progress)$

# ==============
# Workspace Rules
# ==============
windowrulev2 = workspace, 5, class:Swaync

# ==============
# Layer Rules
# ==============
# Disable blur for Chrome/Chromium
layerrule = blur, class:^(Google-chrome|chrome|Chromium)$, 0
layerrule = ignorealpha, class:^(Google-chrome|chrome|Chromium)$

# Blur for other apps
layerrule = blur, rofi
layerrule = ignorezero, rofi
layerrule = blur, notifications
layerrule = ignorezero, notifications
layerrule = blur, swaync-notification-window
layerrule = ignorezero, swaync-notification-window
layerrule = blur, swaync-control-center
layerrule = ignorezero, swaync-control-center
layerrule = blur, logout_dialog